<div class="min-h-screen flex">

  <!-- ─── Left: Branded Panel ─── -->
  <div class="hidden lg:flex lg:w-[45%] relative bg-slate-950 flex-col justify-between p-12 overflow-hidden">

    <!-- Decorative blobs -->
    <div class="absolute inset-0 pointer-events-none">
      <div class="absolute -top-24 -left-24 w-96 h-96 bg-primary-600/20 rounded-full blur-3xl"></div>
      <div class="absolute bottom-0 right-0 w-80 h-80 bg-indigo-600/15 rounded-full blur-3xl"></div>
      <div class="absolute top-1/2 left-1/3 w-48 h-48 bg-primary-500/10 rounded-full blur-2xl"></div>
    </div>

    <!-- Grid texture -->
    <div class="absolute inset-0 opacity-[0.04]"
      style="background-image: linear-gradient(rgba(255,255,255,1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,1) 1px, transparent 1px); background-size: 40px 40px;">
    </div>

    <!-- Logo -->
    <div class="relative flex items-center gap-3">
      <div class="w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-700 rounded-xl flex items-center justify-center shadow-lg">
        <svg class="w-5 h-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
        </svg>
      </div>
      <div>
        <h1 class="text-sm font-bold text-white">Carpentry Inventory</h1>
        <p class="text-[11px] text-slate-500">Management System</p>
      </div>
    </div>

    <!-- Hero text -->
    <div class="relative">
      <h2 class="text-5xl font-bold text-white leading-[1.15] mb-5">
        Manage your<br>
        <span class="text-transparent bg-clip-text bg-gradient-to-r from-primary-400 to-indigo-400">inventory</span><br>
        with ease.
      </h2>
      <p class="text-slate-400 text-base leading-relaxed max-w-xs">
        Track products, monitor stock levels, record movements, and receive low-stock alerts — all in one place.
      </p>
    </div>

    <!-- Bottom stat cards -->
    <div class="relative grid grid-cols-3 gap-3">
      <div class="bg-white/5 border border-white/8 rounded-2xl p-4 text-center">
        <p class="text-3xl font-bold text-white">32+</p>
        <p class="text-xs text-slate-500 mt-1">Products</p>
      </div>
      <div class="bg-white/5 border border-white/8 rounded-2xl p-4 text-center">
        <p class="text-3xl font-bold text-white">6</p>
        <p class="text-xs text-slate-500 mt-1">Categories</p>
      </div>
      <div class="bg-white/5 border border-white/8 rounded-2xl p-4 text-center">
        <p class="text-3xl font-bold text-white">3</p>
        <p class="text-xs text-slate-500 mt-1">User Roles</p>
      </div>
    </div>
  </div>

  <!-- ─── Right: Login Form ─── -->
  <div class="flex-1 flex items-center justify-center p-8 bg-slate-50">
    <div class="w-full max-w-sm">

      <!-- Mobile logo -->
      <div class="lg:hidden flex items-center gap-3 mb-10 justify-center">
        <div class="w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-700 rounded-xl flex items-center justify-center">
          <svg class="w-5 h-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
          </svg>
        </div>
        <h1 class="text-lg font-bold text-slate-800">Carpentry Inventory</h1>
      </div>

      <!-- Form header -->
      <div class="mb-8">
        <h2 class="text-2xl font-bold text-slate-900">Welcome back</h2>
        <p class="text-slate-500 text-sm mt-1">Sign in to manage your inventory</p>
      </div>

      <!-- Error -->
      @if (error()) {
        <div class="mb-5 px-4 py-3 bg-red-50 border border-red-200 rounded-2xl text-sm text-red-700 flex items-center gap-2.5">
          <svg class="w-4 h-4 flex-shrink-0 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          {{ error() }}
        </div>
      }

      <!-- Form -->
      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-4">
        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1.5">Email address</label>
          <input
            formControlName="email"
            type="email"
            placeholder="you@carpentry.com"
            class="w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm placeholder-slate-400 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none shadow-sm"
          />
          @if (form.get('email')?.touched && form.get('email')?.hasError('required')) {
            <p class="text-xs text-red-500 mt-1.5">Email is required</p>
          }
          @if (form.get('email')?.touched && form.get('email')?.hasError('email')) {
            <p class="text-xs text-red-500 mt-1.5">Enter a valid email address</p>
          }
        </div>

        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1.5">Password</label>
          <input
            formControlName="password"
            type="password"
            placeholder="••••••••"
            class="w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm placeholder-slate-400 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none shadow-sm"
          />
          @if (form.get('password')?.touched && form.get('password')?.hasError('required')) {
            <p class="text-xs text-red-500 mt-1.5">Password is required</p>
          }
        </div>

        <button
          type="submit"
          [disabled]="loading()"
          class="w-full py-2.5 px-4 bg-primary-600 text-white text-sm font-semibold rounded-xl hover:bg-primary-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors shadow-sm mt-1"
        >
          @if (loading()) {
            <span class="flex items-center justify-center gap-2">
              <svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
              </svg>
              Signing in...
            </span>
          } @else {
            Sign In
          }
        </button>
      </form>

      <!-- Demo accounts -->
      <div class="mt-6 p-4 bg-white rounded-2xl border border-slate-200 shadow-sm">
        <p class="text-[10px] font-semibold text-slate-400 uppercase tracking-widest mb-3">Quick Login — Demo Accounts</p>
        <div class="space-y-1">
          <button
            type="button"
            (click)="form.patchValue({ email: 'carlos@carpentry.com', password: '123456' })"
            class="w-full flex items-center gap-3 p-2.5 rounded-xl hover:bg-slate-50 transition-colors text-left group"
          >
            <div class="w-8 h-8 rounded-lg bg-purple-100 text-purple-700 flex items-center justify-center text-xs font-bold flex-shrink-0">C</div>
            <div class="flex-1 min-w-0">
              <p class="text-xs font-semibold text-slate-700 truncate">carlos&#64;carpentry.com</p>
              <p class="text-[11px] text-slate-400">Admin · Full access</p>
            </div>
            <svg class="w-3.5 h-3.5 text-slate-300 group-hover:text-slate-500 transition-colors flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
            </svg>
          </button>

          <button
            type="button"
            (click)="form.patchValue({ email: 'maria@carpentry.com', password: '123456' })"
            class="w-full flex items-center gap-3 p-2.5 rounded-xl hover:bg-slate-50 transition-colors text-left group"
          >
            <div class="w-8 h-8 rounded-lg bg-blue-100 text-blue-700 flex items-center justify-center text-xs font-bold flex-shrink-0">M</div>
            <div class="flex-1 min-w-0">
              <p class="text-xs font-semibold text-slate-700 truncate">maria&#64;carpentry.com</p>
              <p class="text-[11px] text-slate-400">Warehouse Manager</p>
            </div>
            <svg class="w-3.5 h-3.5 text-slate-300 group-hover:text-slate-500 transition-colors flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
            </svg>
          </button>

          <button
            type="button"
            (click)="form.patchValue({ email: 'jorge@carpentry.com', password: '123456' })"
            class="w-full flex items-center gap-3 p-2.5 rounded-xl hover:bg-slate-50 transition-colors text-left group"
          >
            <div class="w-8 h-8 rounded-lg bg-slate-100 text-slate-600 flex items-center justify-center text-xs font-bold flex-shrink-0">J</div>
            <div class="flex-1 min-w-0">
              <p class="text-xs font-semibold text-slate-700 truncate">jorge&#64;carpentry.com</p>
              <p class="text-[11px] text-slate-400">Viewer · Read only</p>
            </div>
            <svg class="w-3.5 h-3.5 text-slate-300 group-hover:text-slate-500 transition-colors flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
            </svg>
          </button>
        </div>
      </div>

    </div>
  </div>
</div>
